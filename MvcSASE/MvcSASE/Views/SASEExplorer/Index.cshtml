@model MvcSASE.Models.SASE

@{
    ViewBag.Title = "Index";
}

<h2>Azure Storage Explorer</h2>
<hr />
<h4>Blobs Containers:</h4>
<form>    
    @for (int i = 0; i < Model.service.SASEBlobContainerNames().Count(); i++)
    {
        <p />
    <a href="/Blob/Index?containername=@Model.service.SASEBlobContainerNames()[i]&saseid=@Model.passID&blobid=-1">@Model.service.SASEBlobContainerNames()[i]</a>
        @(" (");
        @Model.service.SASEBlobItems(Model.service.SASEBlobContainerNames().ElementAt(i)).Count();
        @(")  ");
    }
</form>
<p />
@using (Html.BeginForm("CreateContainer",
                        "SASEExplorer",
                        FormMethod.Post,
                        new { enctype = "multipart/form-data" }))
{
    <label for="container">Create new container: </label>
    <input type="text" name="container" id="container" /><br><br>
    <input type="hidden" name="saseid" id="saseid" value="@Model.passID" />
    <input type="submit" value="Create Container" />
}
<hr>
<h4>Queues: </h4>
<form>
    @for (int i = 0; i < Model.service.SASEQueueCount(); i++)
    {
        <p />
        <a href="/SASEExplorer/Queue?queuename=@Model.service.SASEQueueNames()[i]&saseid=@Model.passID">@Model.service.SASEQueueNames()[i]</a>
            @(" (");
            @Model.service.SASEQueueMessageCount(Model.service.SASEQueueNames().ElementAt(i));
            @(")  ");
    }
</form>
<p />
@using (Html.BeginForm("CreateQueue",
                        "SASEExplorer",
                        FormMethod.Post,
                        new { enctype = "multipart/form-data" }))
{
    <label for="queue">Create new queue: </label>
    <input type="text" name="queue" id="queue" /><br><br>
    <input type="hidden" name="saseid" id="saseid" value="@Model.passID" />
    <input type="submit" value="Create Queue" />
}
<hr />
<p>
    <a href="/SASEExplorer/WorkerDemo/@Model.passID">Azure Worker Role Demonstration</a><br />
</p>
<a href="/SASEs/Index">Back to Accounts</a>
